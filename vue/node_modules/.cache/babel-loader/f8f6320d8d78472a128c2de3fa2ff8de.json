{"remainingRequest":"D:\\jrrg_project\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\jrrg_project\\vue\\src\\router\\index.js","dependencies":[{"path":"D:\\jrrg_project\\vue\\src\\router\\index.js","mtime":1717645718470},{"path":"D:\\jrrg_project\\vue\\babel.config.js","mtime":1717645654343},{"path":"D:\\jrrg_project\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1717645655382},{"path":"D:\\jrrg_project\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1717645655088}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7ClZ1ZS51c2UoVnVlUm91dGVyKTsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy9sb2dpbicsCiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL0xvZ2luLnZ1ZScpOwogIH0KfSwgewogIHBhdGg6ICcvcmVnaXN0ZXInLAogIG5hbWU6ICdSZWdpc3RlcicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9SZWdpc3Rlci52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL2hvbWUnLAogIG5hbWU6ICdIb21lMicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9Ib21lMi52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnLzQwNCcsCiAgbmFtZTogJzQwNCcsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy80MDQudnVlJyk7CiAgfQp9XTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIG1vZGU6ICdoaXN0b3J5JywKICByb3V0ZXM6IHJvdXRlcwp9KTsgLy8g6YeN572u6Lev55SxCgpleHBvcnQgdmFyIHJlc2V0Um91dGVyID0gZnVuY3Rpb24gcmVzZXRSb3V0ZXIoKSB7CiAgcm91dGVyLm1hdGNoZXIgPSBuZXcgVnVlUm91dGVyKHsKICAgIG1vZGU6ICdoaXN0b3J5JywKICAgIHJvdXRlczogcm91dGVzCiAgfSk7Cn07IC8vIC8vIOazqOaEj++8muWIt+aWsOmhtemdouS8muWvvOiHtOmhtemdoui3r+eUsemHjee9rgovLyBleHBvcnQgY29uc3Qgc2V0Um91dGVzID0gKCkgPT4gewovLyAgIGNvbnN0IHN0b3JlTWVudXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibWVudXMiKTsKLy8gICBpZiAoc3RvcmVNZW51cykgewovLyAgICAgLy8g5ou86KOF5Yqo5oCB6Lev55SxCi8vICAgICBjb25zdCBtYW5hZ2VSb3V0ZSA9IHsgcGF0aDogJy8nLCBuYW1lOiAnTWFuYWdlJywgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJy4uL3ZpZXdzL01hbmFnZS52dWUnKSwgcmVkaXJlY3Q6ICIvaG9tZSIsIGNoaWxkcmVuOiBbCi8vICAgICAgICAgeyBwYXRoOiAncGVyc29uJywgbmFtZTogJ+S4quS6uuS/oeaBrycsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCcuLi92aWV3cy9QZXJzb24udnVlJyl9LAovLyAgICAgICAgIHsgcGF0aDogJ3Bhc3N3b3JkJywgbmFtZTogJ+S/ruaUueWvhueggScsIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCcuLi92aWV3cy9QYXNzd29yZC52dWUnKX0sCi8vICAgICAgIF0gfQovLyAgICAgY29uc3QgbWVudXMgPSBKU09OLnBhcnNlKHN0b3JlTWVudXMpCi8vICAgICBtZW51cy5mb3JFYWNoKGl0ZW0gPT4gewovLyAgICAgICBpZiAoaXRlbS5wYXRoKSB7ICAvLyDlvZPkuJTku4XlvZNwYXRo5LiN5Li656m655qE5pe25YCZ5omN5Y676K6+572u6Lev55SxCi8vICAgICAgICAgbGV0IGl0ZW1NZW51ID0geyBwYXRoOiBpdGVtLnBhdGgucmVwbGFjZSgiLyIsICIiKSwgbmFtZTogaXRlbS5uYW1lLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgnLi4vdmlld3MvJyArIGl0ZW0ucGFnZVBhdGggKyAnLnZ1ZScpfQovLyAgICAgICAgIG1hbmFnZVJvdXRlLmNoaWxkcmVuLnB1c2goaXRlbU1lbnUpCi8vICAgICAgIH0gZWxzZSBpZihpdGVtLmNoaWxkcmVuLmxlbmd0aCkgewovLyAgICAgICAgIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaChpdGVtID0+IHsKLy8gICAgICAgICAgIGlmIChpdGVtLnBhdGgpIHsKLy8gICAgICAgICAgICAgbGV0IGl0ZW1NZW51ID0geyBwYXRoOiBpdGVtLnBhdGgucmVwbGFjZSgiLyIsICIiKSwgbmFtZTogaXRlbS5uYW1lLCBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgnLi4vdmlld3MvJyArIGl0ZW0ucGFnZVBhdGggKyAnLnZ1ZScpfQovLyAgICAgICAgICAgICBtYW5hZ2VSb3V0ZS5jaGlsZHJlbi5wdXNoKGl0ZW1NZW51KQovLyAgICAgICAgICAgfQovLyAgICAgICAgIH0pCi8vICAgICAgIH0KLy8gICAgIH0pCi8vCi8vICAgICAvLyDojrflj5blvZPliY3nmoTot6/nlLHlr7nosaHlkI3np7DmlbDnu4QKLy8gICAgIGNvbnN0IGN1cnJlbnRSb3V0ZU5hbWVzID0gcm91dGVyLmdldFJvdXRlcygpLm1hcCh2ID0+IHYubmFtZSkKLy8gICAgIGlmICghY3VycmVudFJvdXRlTmFtZXMuaW5jbHVkZXMoJ01hbmFnZScpKSB7Ci8vICAgICAgIC8vIOWKqOaAgea3u+WKoOWIsOeOsOWcqOeahOi3r+eUseWvueixoeS4reWOuwovLyAgICAgICByb3V0ZXIuYWRkUm91dGUobWFuYWdlUm91dGUpCi8vICAgICB9Ci8vICAgfQovLyB9Ci8vCi8vIC8vIOavj+asoeWIt+aWsOmhtemdoumDveimgemHjeaWsOiuvue9rui3r+eUse+8jOWQpuWImei3r+eUseWwseS8muiiq+mHjee9rgovLyBzZXRSb3V0ZXMoKQoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImN1cnJlbnRQYXRoTmFtZSIsIHRvLm5hbWUpOyAvLyDorr7nva7lvZPliY3nmoTot6/nlLHlkI3np7AKCiAgc3RvcmUuY29tbWl0KCJzZXRQYXRoIik7CgogIGlmICghdG8ubWF0Y2hlZC5sZW5ndGgpIHsKICAgIHZhciBtZW51cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJtZW51cyIpOwoKICAgIGlmICghbWVudXMpIHsKICAgICAgbmV4dCgiL2xvZ2luIik7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCIvNDA0Iik7CiAgICB9CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["D:/jrrg_project/vue/src/router/index.js"],"names":["Vue","VueRouter","store","use","routes","path","name","component","router","mode","resetRouter","matcher","beforeEach","to","from","next","localStorage","setItem","commit","matched","length","menus","getItem"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,SAAR;AAEA,IAAMG,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA;AAHb,CADa,EAMb;AACEF,EAAAA,IAAI,EAAE,WADR;AAEEC,EAAAA,IAAI,EAAE,UAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,uBAAP,CAAN;AAAA;AAHb,CANa,EAWX;AACAF,EAAAA,IAAI,EAAE,OADN;AAEAC,EAAAA,IAAI,EAAE,OAFN;AAGAC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA;AAHX,CAXW,EAgBb;AACEF,EAAAA,IAAI,EAAE,MADR;AAEEC,EAAAA,IAAI,EAAE,KAFR;AAGEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,kBAAP,CAAN;AAAA;AAHb,CAhBa,CAAf;AAuBA,IAAMC,MAAM,GAAG,IAAIP,SAAJ,CAAc;AAC3BQ,EAAAA,IAAI,EAAE,SADqB;AAE3BL,EAAAA,MAAM,EAANA;AAF2B,CAAd,CAAf,C,CAKA;;AACA,OAAO,IAAMM,WAAW,GAAG,SAAdA,WAAc,GAAM;AAC/BF,EAAAA,MAAM,CAACG,OAAP,GAAiB,IAAIV,SAAJ,CAAc;AAC7BQ,IAAAA,IAAI,EAAE,SADuB;AAE7BL,IAAAA,MAAM,EAANA;AAF6B,GAAd,CAAjB;AAID,CALM,C,CAOP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAI,MAAM,CAACI,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpCC,EAAAA,YAAY,CAACC,OAAb,CAAqB,iBAArB,EAAwCJ,EAAE,CAACP,IAA3C,EADoC,CACc;;AAClDJ,EAAAA,KAAK,CAACgB,MAAN,CAAa,SAAb;;AACA,MAAI,CAACL,EAAE,CAACM,OAAH,CAAWC,MAAhB,EAAwB;AACtB,QAAMC,KAAK,GAAGL,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAd;;AACA,QAAI,CAACD,KAAL,EAAY;AACVN,MAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,KAFD,MAEO;AACLA,MAAAA,IAAI,CAAC,MAAD,CAAJ;AACD;AACF,GAPD,MAOO;AACLA,IAAAA,IAAI;AACL;AACF,CAbD;AAeA,eAAeP,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport store from \"@/store\";\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/login',\n    name: 'Login',\n    component: () => import('../views/Login.vue')\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component: () => import('../views/Register.vue')\n  },\n    {\n    path: '/home',\n    name: 'Home2',\n    component: () => import('../views/Home2.vue')\n  },\n  {\n    path: '/404',\n    name: '404',\n    component: () => import('../views/404.vue')\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  routes\n})\n\n// 重置路由\nexport const resetRouter = () => {\n  router.matcher = new VueRouter({\n    mode: 'history',\n    routes\n  })\n}\n\n// // 注意：刷新页面会导致页面路由重置\n// export const setRoutes = () => {\n//   const storeMenus = localStorage.getItem(\"menus\");\n//   if (storeMenus) {\n//     // 拼装动态路由\n//     const manageRoute = { path: '/', name: 'Manage', component: () => import('../views/Manage.vue'), redirect: \"/home\", children: [\n//         { path: 'person', name: '个人信息', component: () => import('../views/Person.vue')},\n//         { path: 'password', name: '修改密码', component: () => import('../views/Password.vue')},\n//       ] }\n//     const menus = JSON.parse(storeMenus)\n//     menus.forEach(item => {\n//       if (item.path) {  // 当且仅当path不为空的时候才去设置路由\n//         let itemMenu = { path: item.path.replace(\"/\", \"\"), name: item.name, component: () => import('../views/' + item.pagePath + '.vue')}\n//         manageRoute.children.push(itemMenu)\n//       } else if(item.children.length) {\n//         item.children.forEach(item => {\n//           if (item.path) {\n//             let itemMenu = { path: item.path.replace(\"/\", \"\"), name: item.name, component: () => import('../views/' + item.pagePath + '.vue')}\n//             manageRoute.children.push(itemMenu)\n//           }\n//         })\n//       }\n//     })\n//\n//     // 获取当前的路由对象名称数组\n//     const currentRouteNames = router.getRoutes().map(v => v.name)\n//     if (!currentRouteNames.includes('Manage')) {\n//       // 动态添加到现在的路由对象中去\n//       router.addRoute(manageRoute)\n//     }\n//   }\n// }\n//\n// // 每次刷新页面都要重新设置路由，否则路由就会被重置\n// setRoutes()\n\nrouter.beforeEach((to, from, next) => {\n  localStorage.setItem(\"currentPathName\", to.name)  // 设置当前的路由名称\n  store.commit(\"setPath\")\n  if (!to.matched.length) {\n    const menus = localStorage.getItem(\"menus\")\n    if (!menus) {\n      next(\"/login\")\n    } else {\n      next(\"/404\")\n    }\n  } else {\n    next()\n  }\n})\n\nexport default router\n"]}]}